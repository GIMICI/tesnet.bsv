defmodule BSV.BlockTest do
  use ExUnit.Case, async: true
  alias BSV.Block
  doctest Block

  test "basic block parsing test" do
    blk = "010000006FE28C0AB6F1B372C1A6A246AE63F74F931E8365E15A089C68D6190000000000982051FD1E4BA744BBBE680E1FEE14677BA1A3C3540BF7B1CDB606E857233E0E61BC6649FFFF001D01E362990101000000010000000000000000000000000000000000000000000000000000000000000000FFFFFFFF0704FFFF001D0104FFFFFFFF0100F2052A0100000043410496B538E853519C726A2C91E61EC11600AE1390813A627C66FB8BE7947BE63C52DA7589379515D4E0A604F8141781E62294721166BF621E73A82CBF2342C858EEAC00000000FFEE"
    assert {:ok, blk} = Block.from_binary(blk, encoding: :hex)
    assert length(blk.txns) == 1
    assert Block.validate_merkle_root(blk)
  end

end
